pixivでブックマークしたイラストをローカルに同期する奴。

○開発動機
　弊社のCEOがpixivでブックマークに入れたイラストがいつのまにか消えており悲しい思いをしたから。
　弊社では2010年3月ぐらいから運用してる。　

○主な機能
・http://d.hatena.ne.jp/tester7/20090623/1245691266
　のコードをベースにごちゃごちゃ弄った
・イラストは大サイズ（いわゆるクリックして開いた）画像のみ保存する
・マンガは全てページ、大きなサイズの画像を保存する
・差分取得対応
・タイムスタンプ対応（ダウンロードした時刻ではなく、元のファイルのタイムスタンプになる。気に入らなければ適当に1行コメントアウトして）

○動作環境
ruby。linuxでしか動かしてないのでwinでどうなるか不明

○使い方
1) config.yamlファイルを作成する。
   config.yamlを元にpixivID,password,保存先ディレクトリを設定する
2) ruby pixiv_syncbookmark.rb config.yaml

　※弊社ではcronに仕込んでます。cronに仕込んだりするときは、
　pixiv_syncbookmark.rbの1行目のload './pixiv.rb'とイラストの保存先とか絶対パスで書いちゃうのが確実

○問題と対策
　問題
　　取得失敗したときの処理ちゃんと書いてないのでpixivのサーバが不調だとゴミファイルが保存される場合がある。
　　同様に、最後のページまで辿らずに処理を終えてしまうことがある
　対策
　　しらん。

○アルゴリズムっぽいの
　1) ログイン
　2) http://www.pixiv.net/bookmark.php?p=1を取得
　3) ページ中の全イラストについて「ローカルにない」ものがあれば取得
　4) 3)で取得したイラストが0枚なら死ぬ
　5) p++して2)に戻る
